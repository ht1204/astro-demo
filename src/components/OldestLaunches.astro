---
import { getOldLaunches } from "../api/space_service";
import CardLaunch from "./CardLaunch.astro";

const launches = await getOldLaunches();
---

<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
  {
    launches.map((launchItem) => {
      const {
        id,
        links: {
          patch: { small: img },
        },
        details,
        flight_number,
        success,
      } = launchItem;

      return (
        <CardLaunch
          id={id}
          img={img}
          details={details}
          flightNumber={flight_number}
          success={success}
        />
      );
    })
  }
</div>
